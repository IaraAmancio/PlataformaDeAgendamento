<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página inicial</title>
    <link rel="stylesheet" href="/style/paginaInicial.css">
    <link rel="stylesheet" href="/style/header.css">
    <link rel="stylesheet" href="/style/modal.css">
</head>

<body>

    <%- include('header') %>

    <h1>Sistema de Reservas</h1>
    <p>Escolha uma opção abaixo:</p>

    <a href="/minhas-reservas">
        <button>Minhas reservas</button>
    </a>

    <button id="setorBtn">Fazer Reserva</button>

    <div id="setorModal" class="modal">
        <div class="modal-content">
            <span class="close">×</span>
            <h2>Faça sua Reserva!</h2>
            <form action="/formulario">
                <fieldset>
                    <label for="setor">Escolha o Setor (Lounge, Internal, External):</label>
                    <select id="setor" name="setor">
                        <option value="Lounge Area">Lounge Area</option>
                        <option value="Internal Area">Internal Area</option>
                        <option value="External Area">External Area</option>
                    </select>
                </fieldset>
                <fieldset>
                    <label for="data">Escolha a Data (Reservas disponíveis para os próximos 15 dias):</label>
                    <input type="date" id="data" name="data">
                </fieldset>
                <button type="submit">Continuar</button>
            </form>
        </div>
    </div>


</body>
<script>
    var modal = document.getElementById("setorModal");
    var btn = document.getElementById("setorBtn");
    var span = document.getElementsByClassName("close")[0];

    btn.onclick = function () {
        modal.style.display = "block";
    }

    span.onclick = function () {
        modal.style.display = "none";
    }

    window.onclick = function (event) {
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }

    const today = new Date().toISOString().split('T')[0];
    const hours = new Date().getHours();

    let datelimit = new Date();
    let dateinit = new Date();
    let reservationdays = hours < 14? 14: 15;
    let initday = hours < 14? 0: 1;

    dateinit.setDate(dateinit.getDate() + initday);
    datelimit.setDate(datelimit.getDate() + reservationdays);
    datelimit = datelimit.toISOString().split('T')[0];
    dateinit = dateinit.toISOString().split('T')[0];

    document.getElementById('data').setAttribute('min', dateinit);
    document.getElementById('data').setAttribute('max', datelimit);

</script>

<footer>
    <p>&copy; 2024 Restaurante. Todos os direitos reservados.</p>
    <a href="/politica-de-privacidade">Política de Privacidade</a>
</footer>

</html>